/* Ghibli-Specific Global Styles */
.ghibli-theme {
  /* Set your Totoro GIF here if not already in your bg div */
  background: url('https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExOW5lbzQ3MWhjZTYxbTk0ZHE2NTJlbmwwdjNhNWNuMTFvOWd0NW41ZCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/x5HlLDaLMZNVS/giphy.gif') no-repeat center center fixed;
  background-size: cover;
}

.ghibli-title {
  font-family: 'Playfair Display', serif;
  color: #fff;
  text-shadow: 2px 2px 10px rgba(0,0,0,0.5);
  font-size: 3rem;
  margin-bottom: 2rem;
}

/* Glassmorphism Story Cards */
.story-card {
  background: rgba(255, 255, 255, 0.7); /* Soft cream/white */
  backdrop-filter: blur(12px); /* Ethereal blur */
  border-radius: 30px;
  padding: 30px;
  margin-bottom: 30px;
  border: 1px solid rgba(255, 255, 255, 0.4);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  position: relative;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
}

.card-leaf {
  position: absolute;
  top: -15px;
  left: 20px;
  font-size: 1.5rem;
}

.story-heading {
  font-family: 'Playfair Display', serif;
  color: #2d5a27; /* Forest Green */
  font-size: 1.6rem;
  margin-bottom: 10px;
}

.card-text {
  font-family: 'Lora', serif;
  color: #444;
  line-height: 1.6;
  font-size: 1.1rem;
}

/* Poetic Promise Styling */
.poetic-promise {
  text-align: center;
  margin-top: 60px;
  padding: 40px;
  color: white;
}

.promise-main {
  font-family: 'Lora', serif;
  font-style: italic;
  font-size: 1.3rem;
}

.final-vow {
  font-family: 'Pacifico', cursive;
  font-size: 2.5rem;
  color: #ffeb3b; /* Soft glow yellow */
  text-shadow: 0 0 15px rgba(255, 235, 59, 0.6);
  margin-top: 20px;
}

.ghibli-btn {
  background: #2d5a27;
  color: white;
  padding: 15px 30px;
  border-radius: 50px;
  text-decoration: none;
  font-family: 'Lora', serif;
  transition: 0.3s;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

.ghibli-btn:hover {
  transform: scale(1.05);
  background: #3d7a35;
}
/* Extra dreamy glassmorphism for story cards */
.story-card {
  background: rgba(255, 255, 255, 0.65) !important;
  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;
  border-radius: 25px !important;
  border: 1px solid rgba(255, 255, 255, 0.4) !important;
  color: #1a3c15 !important;
  box-shadow: 0 8px 32px 0 rgba(31,38,135,0.10);
}
:root{
  --bg: #f5f9ff;
  --surface: #ffffff;
  --text: #03203c;
  --muted: #6b7785;
  --primary: #1e3a8a; /* soft navy */
  --accent: #5b9fff;  /* light blue */
  --radius: 12px;
  --shadow: 0 10px 30px rgba(8,23,48,0.08);
  --max-width: 980px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  /* let the GIF show through fully */
  background: transparent;
  color:var(--text);
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  line-height:1.5;
  transition:background-color 320ms ease;
}
.container{max-width:var(--max-width);margin:0 auto;padding:24px}
.nav{backdrop-filter:saturate(120%) blur(6px);position:sticky;top:0;background:transparent;padding:12px 0;z-index:40}
.nav-inner{display:flex;align-items:center;justify-content:space-between}
.brand{font-weight:700;color:var(--primary);text-decoration:none;font-size:1.05rem}
.nav a{color:var(--text);text-decoration:none;margin-left:18px;padding:6px;border-radius:8px}
.nav a:focus,.nav a:hover{outline:none;background:rgba(30,58,138,0.06)}

/* Page transitions */
body.fade-out{opacity:0;transition:opacity 280ms ease}
body.page{opacity:0}
body.page.visible{opacity:1;transition:opacity 420ms ease}

/* Hero */
.main.hero{min-height:72vh;display:flex;align-items:center;justify-content:center}
.hero-card{background:rgba(255,255,255,0.62);backdrop-filter:blur(6px);padding:44px;border-radius:20px;box-shadow:var(--shadow);text-align:center;border:1px solid rgba(30,58,138,0.06)}
.hero-card h1{margin:0;font-size:2.2rem;font-weight:700;letter-spacing:-0.02em}
.lead{color:var(--muted);margin-top:10px}
.hero-actions{margin-top:18px}
.btn{display:inline-block;padding:10px 16px;border-radius:10px;border:1px solid rgba(3,32,60,0.06);background:transparent;color:var(--primary);cursor:pointer;text-decoration:none;transition:background 0.2s, color 0.2s, box-shadow 0.2s;box-shadow:0 2px 8px rgba(30,58,138,0.08)}
.btn.primary{background:linear-gradient(90deg,var(--primary),#244fb3);color:#fff;border:0}

/* Enhanced Yes button style */
.btn-yes {
  background: linear-gradient(90deg, #ffb6c1 0%, #ffe4e1 100%);
  color: #1e3a8a;
  font-weight: 700;
  border: none;
  box-shadow: 0 4px 16px rgba(255,182,193,0.18);
  padding: 12px 22px;
  font-size: 1.08rem;
  letter-spacing: 0.02em;
}
.btn-yes:hover, .btn-yes:focus {
  background: linear-gradient(90deg, #ffe4e1 0%, #ffb6c1 100%);
  color: #c2185b;
  box-shadow: 0 6px 24px rgba(255,182,193,0.28);
}

/* Scroll cue */
.scroll-cue{display:flex;flex-direction:column;align-items:center;margin-top:22px;color:var(--muted)}
.scroll-cue .arrow{width:22px;height:22px;border-bottom:2px solid var(--muted);border-right:2px solid var(--muted);transform:rotate(45deg);display:block;margin-bottom:6px;animation: bounce 1.6s infinite}
@keyframes bounce{0%,100%{transform:translateY(0) rotate(45deg)}50%{transform:translateY(8px) rotate(45deg)}}

/* Background animation subtle */
.bg-anim{position:fixed;inset:0;pointer-events:none;z-index:-2;background:radial-gradient(800px 400px at 10% 10%, rgba(91,159,255,0.08), transparent), radial-gradient(600px 300px at 90% 80%, rgba(30,58,138,0.04), transparent)}
/* Use a dedicated DOM layer for the animated GIF so it doesn't flicker behind pseudo-elements */
.bg-anim::before{
  content:"";position:fixed;inset:0;pointer-events:none;background-image:url('https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExOW5lbzQ3MWhjZTYxbTk0ZHE2NTJlbmwwdjNhNWNuMTFvOWd0NW41ZCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/x5HlLDaLMZNVS/giphy.gif');background-size:cover;background-position:center;opacity:0.18;filter:saturate(92%) blur(0.6px);mix-blend-mode:overlay;z-index:-1}

/* Dedicated full-screen GIF element (inserted in DOM as #gif-bg) */
#gif-bg{position:fixed;inset:0;pointer-events:none;background-image:url('https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExOW5lbzQ3MWhjZTYxbTk0ZHE2NTJlbmwwdjNhNWNuMTFvOWd0NW41ZCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/x5HlLDaLMZNVS/giphy.gif');background-size:cover;background-position:center;opacity:1;filter:saturate(120%);z-index:-1000;}

/* Reveal utility */
.reveal{opacity:0;transform:translateY(8px);transition:opacity 480ms ease,transform 480ms ease}
.reveal.visible{opacity:1;transform:none}


/* Timeline */
.timeline{display:flex;gap:20px;padding:40px 0;align-items:flex-start}
.timeline-progress{width:48px;position:relative}
.timeline-progress .fill{position:absolute;left:50%;transform:translateX(-50%);width:4px;background:linear-gradient(180deg,var(--accent),var(--primary));border-radius:4px;top:20px;bottom:20px;transform-origin:top;height:0}
.page-title{margin:0 0 18px;font-size:1.2rem;font-family:'Playfair Display', Lora, serif;}
.cards{flex:1;display:flex;flex-direction:column;gap:24px}
.card{background:rgba(255,255,255,0.62);padding:18px;border-radius:12px;box-shadow:var(--shadow);border-left:4px solid rgba(91,159,255,0.18);backdrop-filter:blur(6px)}
.card-text{margin:0 0 10px;font-family:'Lora', 'Playfair Display', serif;font-size:1.18rem;line-height:1.7;}
.story-heading{font-family:'Playfair Display', Lora, serif;font-size:1.1rem;font-weight:700;margin:0 0 8px 0;color:var(--primary);letter-spacing:0.01em;}
.toggle{background:transparent;border:0;color:var(--primary);cursor:pointer}
.extra{max-height:0;overflow:hidden;transition:max-height 320ms ease;color:var(--muted);}
.card.expanded .extra{max-height:80px}

/* Glassmorphism for story cards */
.glass-card {
  background: rgba(255,255,255,0.60) !important;
  box-shadow: 0 8px 32px 0 rgba(31,38,135,0.18);
  backdrop-filter: blur(18px) saturate(120%);
  -webkit-backdrop-filter: blur(18px) saturate(120%);
  border-radius: 18px;
  border: 1.5px solid rgba(255,255,255,0.22);
  margin-bottom: 8px;
}

/* Love note at the bottom */
.love-note {
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 60px 0 24px 0;
}
.love-note span {
  font-family: 'Pacifico', cursive;
  font-size: 2.1rem;
  color: #c2185b;
  background: rgba(255,255,255,0.68);
  padding: 16px 32px;
  border-radius: 18px;
  box-shadow: 0 4px 24px rgba(200,24,91,0.10);
  letter-spacing: 0.03em;
  text-align: center;
}

/* Override body font for story page */
body.page {
  font-family: 'Lora', 'Playfair Display', serif;
}

/* Gallery */
.filmstrip{display:flex;gap:18px;flex-wrap:wrap;margin-top:18px}
.photo-card{background:rgba(255,255,255,0.6);border-radius:12px;border:1px solid rgba(10,30,80,0.04);padding:0;overflow:hidden;box-shadow:var(--shadow);cursor:pointer;transition:transform 340ms cubic-bezier(.2,.9,.2,1),box-shadow 340ms;backdrop-filter:blur(4px)}
.photo-card img{display:block;width:260px;height:180px;object-fit:cover;transition:transform 420ms ease}
.photo-card:hover{transform:translateY(-10px) rotate(-1.6deg);box-shadow:0 30px 60px rgba(8,23,48,0.14)}
.photo-card:hover img{transform:scale(1.03)}
.photo-card.polaroid{background:linear-gradient(180deg,#fff,#fafafa);border-radius:8px;padding:12px;border:1px solid rgba(8,23,48,0.06);width:260px}
.photo-card.polaroid img{
  width:100%;
  height:auto;
  max-width:236px;
  max-height:160px;
  border-radius:4px;
  display:block;
  margin:0 auto;
  box-shadow:0 6px 18px rgba(8,23,48,0.12);
}
.polaroid-caption{font-size:0.85rem;color:var(--muted);text-align:center;margin-top:10px;padding:0 6px;min-height:1.2em}
.photo-card.polaroid{display:flex;flex-direction:column;align-items:center;justify-content:flex-start}
.photo-card.polaroid::after{content:"";display:block;height:8px;width:100%}
.gallery-actions{margin-top:20px}

/* Modal */
.modal{position:fixed;inset:0;background:rgba(3,8,20,0.45);display:none;align-items:center;justify-content:center;padding:24px}
.modal[aria-hidden="false"]{display:flex}
.modal-inner{background:var(--surface);padding:18px;border-radius:12px;max-width:880px;max-height:90vh;overflow:auto;box-shadow:var(--shadow);text-align:center}
.modal-img{max-width:100%;height:auto;border-radius:8px}
.modal-close{position:absolute;right:28px;top:28px;background:transparent;border:0;color:var(--muted);font-size:18px;cursor:pointer}

/* Valentine */
.valentine{padding:48px 24px}
.polaroid-frame{display:flex;flex-direction:column;align-items:center;gap:12px}
.polaroid.empty{width:280px;height:280px;border-radius:14px;border:2px dashed rgba(30,58,138,0.12);background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.5));box-shadow:var(--shadow);transform:rotate(-1deg);backdrop-filter:blur(4px)}
.final-ask{margin-top:32px;text-align:center}
.final-ask h1{font-size:1.5rem;margin-bottom:14px}
.choices{display:flex;gap:10px;justify-content:center}
.result{margin-top:14px;color:var(--primary);font-weight:600}
.confetti-canvas{position:fixed;inset:0;pointer-events:none;z-index:60}

/* small aesthetic touches */
.brand{font-size:1.1rem;letter-spacing:0.02em}
.page-title{font-size:1.4rem;color:var(--primary)}
.card{transition:transform 260ms ease,box-shadow 260ms ease}
.card:hover{transform:translateY(-6px);box-shadow:0 24px 48px rgba(8,23,48,0.12)}

/* subtle film effect for background */
body::after{display:none}

/* Accessibility focus */
a:focus,button:focus{outline:3px solid rgba(91,159,255,0.18);outline-offset:4px}

@media (max-width:720px){
  .photo-card img{width:100%;height:200px}
  .filmstrip{flex-direction:column;align-items:center}
  .timeline{flex-direction:column}
  .timeline-progress{display:none}
}

/* Improved legibility over animated background */
/* Stronger headings and slightly heavier body text for clarity */
h1,h2,h3,.page-title,.brand,.hero-card h1,.final-ask h1{font-weight:800;color:var(--text)}
.lead,.card-text,.nav a{font-weight:600;color:var(--text)}

/* Ensure translucent surfaces keep readable text */
.hero-card,.card,.photo-card,.modal-inner{color:var(--text)}

/* Subtle text halo to lift text from very busy GIF areas */
.hero-card h1,.page-title,.card-text{text-shadow:0 1px 0 rgba(255,255,255,0.55)}

/* Slightly increase card contrast while keeping GIF visible */
.hero-card{background:rgba(255,255,255,0.72)}
.card{background:rgba(255,255,255,0.68)}
.photo-card{background:rgba(255,255,255,0.62)}

/* Universal translucent text box for readable copy */
.text-box{background:rgba(255,255,255,0.78);backdrop-filter:blur(8px) saturate(120%);border-radius:14px;padding:20px 22px;box-shadow:var(--shadow);color:var(--text);display:block}

/* Apply text-box to common content blocks */
.page-title{text-transform:none;display:block;padding:18px 22px;border-radius:12px;background:rgba(255,255,255,0.72);box-shadow:var(--shadow);font-size:1.3rem}
.card-text{font-size:1.15rem;margin:0}
.lead{display:block;padding:12px 16px;border-radius:10px;background:rgba(255,255,255,0.66);box-shadow:var(--shadow);margin-top:12px}
.final-ask h1{display:inline-block;padding:18px 20px;border-radius:12px;background:rgba(255,255,255,0.74);box-shadow:var(--shadow)}
.modal-inner{background:rgba(255,255,255,0.9)}

/* Ensure nav links remain legible on GIF */
.nav-inner a{background:rgba(255,255,255,0.04);padding:8px 10px;border-radius:8px}
.nav-inner a:hover{background:rgba(255,255,255,0.12)}


